<ion-content class="treinos-content">
  <div class="header-section">
    <h1 class="page-title">Meus Treinos</h1>
    <p class="page-subtitle">Acompanhe seu histórico de treinos</p>
  </div>

  <div class="content-wrapper">
    <!-- Botão Adicionar Treino -->
    <div class="add-training-section" *ngIf="(isAuthenticated$ | async) ">
      <ion-button 
        (click)="addTraining()"
        expand="block"
        size="large"
        class="add-training-button">
        <ion-icon name="add" slot="start"></ion-icon>
        Adicionar Treino
      </ion-button>
    </div>

    <!-- Lista de Treinos -->
    <div class="trainings-list" *ngIf="(isAuthenticated$ | async) && trainings.length > 0">
      <div 
        *ngFor="let training of trainings" 
        class="training-card">
        <div class="training-header">
          <div class="training-date">
            <ion-icon name="calendar-outline" class="date-icon"></ion-icon>
            <span>{{ formatDate(training.date) }}</span>
          </div>
          <div class="training-duration">
            <ion-icon name="time-outline" class="time-icon"></ion-icon>
            <span>{{ training.duration }}</span>
          </div>
        </div>

        <div class="training-info">
          <h3 class="instructor-name">
            <ion-icon name="person-outline" class="instructor-icon"></ion-icon>
            {{ training.instructor }}
          </h3>
          
          <div class="training-stats">
            <div class="stat-item">
              <span class="stat-label">Posições</span>
              <span class="stat-value">{{ training.positions }}</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Lutas</span>
              <span class="stat-value">{{ training.rolls }}</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Técnicas</span>
              <span class="stat-value">{{ training.techniques }}</span>
            </div>
          </div>
        </div>

        <div class="training-actions">
          <ion-button 
            (click)="viewTraining(training)"
            fill="clear" 
            size="small"
            color="primary">
            <ion-icon name="eye-outline" slot="start"></ion-icon>
            Ver Detalhes
          </ion-button>
          <ion-button 
            (click)="editTraining(training)"
            fill="clear" 
            size="small"
            color="medium">
            <ion-icon name="create-outline" slot="start"></ion-icon>
            Editar
          </ion-button>
        </div>
      </div>
    </div>

    <!-- Estado Vazio -->
    <div class="empty-state" *ngIf="!(isAuthenticated$ | async) || trainings.length === 0">
      <div class="empty-icon">
        <ion-icon name="fitness-outline"></ion-icon>
      </div>
      <h3>{{ (isAuthenticated$ | async) ? 'Nenhum treino registrado' : 'Faça login para ver seus treinos' }}</h3>
      <p>{{ (isAuthenticated$ | async) ? 'Comece registrando seu primeiro treino!' : 'Entre na sua conta para acessar e gerenciar seus treinos' }}</p>
      <ion-button 
        (click)="addTraining()"
        fill="solid"
        color="primary">
        <ion-icon name="add" slot="start"></ion-icon>
        {{ (isAuthenticated$ | async) ? 'Adicionar Primeiro Treino' : 'Fazer Login' }}
      </ion-button>
    </div>
  </div>

</ion-content>